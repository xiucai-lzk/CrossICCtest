# CrossICCtest
Example for run CrossICC on breast cancer data in our recent article. In this project, we first collected expression data from seven published research. Three clustering strategies were performed on this data to get consensus subtypes across batches, including directly consensus clustering, clustering after batch removing and clustering by CrossICC. Here, we show a step by step R code for doing such analysis.


    
## Required R libraries
ConsensusClusterPlus<br>survival<br>survminer<br>ggsci<br>sva<br>CrossICC<br>RColorBrewer  

## Figs
#### Show the PCA results for datasets without removing batch effect and clustering results with ConsensusClusterPlus
![github](https://github.com/xiucai-lzk/CrossICCtest/blob/master/jpeg/NotRemoveBatchPCAplot.jpeg "github")

#### Show the survival curve after grouping datasetswith without removing batch effect with ConsensusClusterPlus
![github](https://github.com/xiucai-lzk/CrossICCtest/blob/master/jpeg/BreastSurvival-NotRemoveBatcPlot.jpeg "github")

#### Show the PCA result and ConsensusClusterPlus' result of datasets that have removed batch effect
![github](https://github.com/xiucai-lzk/CrossICCtest/blob/master/jpeg/RemoveBatchPCAplot.jpeg "github")

#### Show the survival curve after grouping datasetswith have removed batch effect with ConsensusClusterPlus
![github](https://github.com/xiucai-lzk/CrossICCtest/blob/master/jpeg/BreastSurvival-RemoveBatcPlot.jpeg "github")

#### Show the PCA result and CrossICC result of datasets that haven't removed batch effect
![github](https://github.com/xiucai-lzk/CrossICCtest/blob/master/jpeg/CrossICC-PCAplot.jpeg "github")

#### Show the survival curve after grouping datasetswith without removing batch effect with CrossICC
![github](https://github.com/xiucai-lzk/CrossICCtest/blob/master/jpeg/BreastSurvival-CrossICCplot.jpeg "github")

#### Show the heatmap of signature gene which generated by CrossICC in each cluster
##### Dataset1
![github](https://github.com/xiucai-lzk/CrossICCtest/blob/master/jpeg/CrossICC-Dataset1-heatmap.jpeg "github")

##### Dataset2
![github](https://github.com/xiucai-lzk/CrossICCtest/blob/master/jpeg/CrossICC-Dataset2-heatmap.jpeg "github")

##### Dataset3
![github](https://github.com/xiucai-lzk/CrossICCtest/blob/master/jpeg/CrossICC-Dataset3-heatmap.jpeg "github")

##### Dataset4
![github](https://github.com/xiucai-lzk/CrossICCtest/blob/master/jpeg/CrossICC-Dataset4-heatmap.jpeg "github")

##### Dataset5
![github](https://github.com/xiucai-lzk/CrossICCtest/blob/master/jpeg/CrossICC-Dataset5-heatmap.jpeg "github")

##### Dataset6
![github](https://github.com/xiucai-lzk/CrossICCtest/blob/master/jpeg/CrossICC-Dataset6-heatmap.jpeg "github")

##### Dataset7
![github](https://github.com/xiucai-lzk/CrossICCtest/blob/master/jpeg/CrossICC-Dataset7-heatmap.jpeg "github")
